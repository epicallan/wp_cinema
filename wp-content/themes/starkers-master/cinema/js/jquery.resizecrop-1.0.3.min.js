(function(a){a.fn.resizecrop=function(b){var c={width:50,height:50,vertical:"center",horizontal:"center",wrapper:"span",moveClass:true,moveId:true,className:"resizecrop",zoom:true,wrapperCSS:{}};var b=a.extend(c,b);return this.each(function(){var i=a(this);i.css("display","none");i.removeAttr("width").removeAttr("height");var h=a(document.createElement(b.wrapper)).css({width:b.width,height:b.height,overflow:"hidden",display:"inline-block","vertical-align":"middle",position:"relative"}).css(b.wrapperCSS);if(b.moveClass){var e=i.attr("class");if(typeof e!=="undefined"&&e!==false&&e!==""){var g=e.split(/\s+/);a.each(g,function(j,k){h.addClass(k)});i.removeAttr("class");i.addClass(b.className)}}if(b.moveId){var d=i.attr("id");if(typeof d!=="undefined"&&d!==false&&d!==""){i.removeAttr("id");h.attr("id",d)}}i.wrap(h);function f(j){width_ratio=b.width/j.width();height_ratio=b.height/j.height();if(width_ratio>height_ratio){if(b.zoom||width_ratio<1){j.width(b.width)}switch(b.vertical){case"top":j.css("top",0);break;case"bottom":j.css("bottom",0);break;case"center":default:j.css("top",((j.height()-b.height)/-2)+"px")}if(b.zoom||width_ratio<1){j.css("left",0)}else{j.css("left",((j.width()-b.width)/-2)+"px")}}else{if(b.zoom||height_ratio<1){j.height(b.height)}switch(b.horizontal){case"left":j.css("left",0);break;case"right":j.css("right",0);break;case"center":default:j.css("left",((j.width()-b.width)/-2)+"px")}if(b.zoom||height_ratio<1){j.css("top",0)}else{j.css("top",((j.height()-b.height)/-2)+"px")}}j.css({position:"relative",display:"block"})}if(this.complete){f(i)}else{i.load(function(){f(a(this))})}})};a.fn.cropresize=a.fn.resizecrop})(jQuery);
